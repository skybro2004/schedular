<!DOCTYPE html>
<html>
    <head>
        <meta charset='utf-8'>
        <title>
            시간표
        </title>
        <style>
            table {
                border-collapse: collapse;
                border: 1px solid black;
            }
            td{
                width: 80px;
                height: 40px;
                text-align: center;
                border: 1px solid black;
            }
            .select{
                background-color: yellow;
                /*color: yellowgreen;*/
            }
            /*
            #MON1{
                color: teal;
            }
            */
        </style>
        <script>
            function getToday(){
                var date = new Date();
                var year = date.getFullYear();
                var month = ("0" + (1 + date.getMonth())).slice(-2);
                var day = ("0" + date.getDate()).slice(-2);
            
                return year + month + day;
            }
            var url = 'http://api.skybro2004.com/schedular?date=' + getToday()
            fetch(url)
                .then(res => {
                    console.log(res)
                    return res.json()
                })
                .then(data => {
                    console.log("data")
                    console.log(data)
                    console.log("code : ", data.code)
                    if(data.code==200){
                        for(const item of data.data){
                            console.log(item.weekday_str + item.period + "|" + item.item);
                            //document.write(item)
                            document.getElementById(String(item.weekday_str + item.period)).innerHTML = item.item
                        }
                    }
                })
                .catch(err => {
                    console.log("error")
                    console.log(err)
                })
        </script>
    </head>
    <body>
        <script>
            //alert("Hello world!");
        </script>



        <table class="schedular_table">
            <tr>
                <td> / </td>

                <td>월요일</td>
                <td>화요일</td>
                <td>수요일</td>
                <td>목요일</td>
                <td>금요일</td>
            </tr>
            <tr>
                <td>1교시</td>

                <td id="MON1"></td>
                <td id="TUE1"></td>
                <td id="WED1"></td>
                <td id="THU1"></td>
                <td id="FRI1"></td>
            </tr>
            <tr>
                <td>2교시</td>

                <td id="MON2"></td>
                <td id="TUE2"></td>
                <td id="WED2"></td>
                <td id="THU2"></td>
                <td id="FRI2"></td>
            </tr>
            <tr>
                <td>3교시</td>

                <td id="MON3"></td>
                <td id="TUE3"></td>
                <td id="WED3"></td>
                <td id="THU3"></td>
                <td id="FRI3"></td>
            </tr>
            <tr>
                <td>4교시</td>

                <td id="MON4"></td>
                <td id="TUE4"></td>
                <td id="WED4"></td>
                <td id="THU4"></td>
                <td id="FRI4"></td>
            </tr>
            <tr>
                <td>점심시간</td>

                <td colspan="5">점심시간</td>
            </tr>
            <tr>
                <td>5교시</td>

                <td id="MON5"></td>
                <td id="TUE5"></td>
                <td id="WED5"></td>
                <td id="THU5"></td>
                <td id="FRI5"></td>
            </tr>
            <tr>
                <td>6교시</td>

                <td id="MON6"></td>
                <td id="TUE6"></td>
                <td id="WED6"></td>
                <td id="THU6"></td>
                <td id="FRI6"></td>
            </tr>
            <tr>
                <td>7교시</td>

                <td id="MON7"></td>
                <td id="TUE7"></td>
                <td id="WED7"></td>
                <td id="THU7"></td>
                <td id="FRI7"></td>
            </tr>
        </table>
    </body>
</html>

<!--https://open.neis.go.kr/hub/hisTimetable?KEY=028278aaacd242438668d46a5464e934&Type=json&ATPT_OFCDC_SC_CODE=J10&SD_SCHUL_CODE=7530081&GRADE=2&CLASS_NM=8&TI_FROM_YMD=20210920&TI_TO_YMD=20210925-->
